# Uncharted Territory - 設計ドキュメント

## 📋 概要

このディレクトリには、宇宙経済シミュレーションゲーム「Uncharted Territory」の設計ドキュメントが含まれています。各パートの詳細な設計思想、実装方針、今後の拡張計画を文書化しています。

## 📚 ドキュメント一覧

### 🎮 [GAMEPLAY_GUIDE.md](./GAMEPLAY_GUIDE.md)
**ゲームの実際のプレイ方法**
- Step-by-step ゲームプレイフロー
- API を使った取引・探索の実例
- 戦略とテクニック
- よくある問題と対策
- 自動化スクリプト例

### 🏗️ [ARCHITECTURE.md](./ARCHITECTURE.md)
**システム全体のアーキテクチャ設計**
- 設計思想とコンセプト
- 技術スタック選定理由  
- モジュール構成と依存関係
- データフローとシステム統合
- パフォーマンス考慮点

### 🗂️ [DATA_MODEL.md](./DATA_MODEL.md)
**データ構造とモデル設計**
- TypeScript型定義の設計思想
- コアデータ構造の詳細
- データ関係と整合性ルール
- 最適化戦略
- 将来の永続化対応

### 🌌 [WORLD_GENERATION.md](./WORLD_GENERATION.md)
**宇宙世界の生成システム**
- プロシージャル生成アルゴリズム
- セクター・ステーション配置ロジック
- 商品経済の初期設定
- バランス調整方針
- 探索要素の設計

### 💰 [ECONOMIC_ENGINE.md](./ECONOMIC_ENGINE.md)
**動的経済システム**
- 供給需要に基づく価格決定
- 生産・消費サイクル
- 交易機会検出アルゴリズム
- リアルタイム経済更新
- パフォーマンス最適化

### 🚀 [SHIP_ENGINE.md](./SHIP_ENGINE.md)
**船舶移動・操作システム**
- 2D空間での物理演算
- コマンドシステム設計
- 探索・交易メカニズム
- リアルタイム移動処理
- 状態管理戦略

### 🌐 [API_DESIGN.md](./API_DESIGN.md)
**RESTful API設計**
- Express.js + Cloudflare Workers のデュアル実装
- エンドポイント設計思想
- エラーハンドリング戦略
- セキュリティ考慮事項
- パフォーマンス最適化

### 🧪 [TESTING_STRATEGY.md](./TESTING_STRATEGY.md)
**テスト戦略と品質保証**
- テスト構成とツール選定
- カバレッジ分析と改善計画
- 継続的品質保証
- テスト保守性の確保

## 🎯 設計の主要判断

### なぜこの構成にしたか

1. **モジュラー設計**: 各システムの独立性を保ち、段階的な拡張を可能に
2. **API-First**: フロントエンド分離により、多様なクライアント対応
3. **デュアル実装**: 開発効率（Express）と本番性能（Workers）の両立
4. **型安全性**: TypeScriptによる設計時エラー検出
5. **テスト駆動**: 継続的な品質保証と安全なリファクタリング

### 技術的負債と改善計画

#### 現在の制限
- **メモリ内状態管理**: 永続化未実装
- **単純な移動システム**: 直線移動のみ
- **基本的な経済モデル**: 固定生産・消費量
- **テストカバレッジ不足**: 68.45% （目標80%）

#### 改善優先順位
1. **テストカバレッジ向上** (1-2週間)
2. **永続化対応** (1ヶ月)  
3. **リアルタイム通信** (2ヶ月)
4. **AI自動化機能** (3ヶ月)

## 🔧 開発ガイドライン

### 新機能追加時の手順
1. **設計書更新**: 該当ドキュメントの影響範囲を確認
2. **型定義追加**: `types.ts` への新しいインターフェース追加
3. **テスト実装**: 機能実装前にテストケース作成
4. **実装**: ビジネスロジック実装
5. **統合**: API層での公開と他システムとの連携
6. **文書更新**: 設計ドキュメントの更新

### コード品質基準
- TypeScript strict mode準拠
- ESLint エラーゼロ
- テストカバレッジ 80%以上
- 全テスト成功

## 📖 関連リソース

### 外部ドキュメント
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [Vitest Documentation](https://vitest.dev/)
- [Cloudflare Workers Docs](https://developers.cloudflare.com/workers/)

### プロジェクト管理
- Issue #1: MVP機能実装 ✅
- 今後のIssue: 各設計書の改善点を基に作成予定

## 📞 質問・改善提案

設計に関する質問や改善提案がある場合は、該当する設計書のセクションを特定して、具体的な変更提案と共にお知らせください。

例：
- **対象**: `ECONOMIC_ENGINE.md` の価格決定メカニズム
- **提案**: 季節変動を考慮した需要モデルの追加
- **影響範囲**: economic-engine.ts, 関連テスト, API仕様

---

**更新履歴**
- 2024-06-24: 初版作成（MVP実装完了時点）